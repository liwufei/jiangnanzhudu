(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-bank-build"],{"0cc5":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("ea5d").default,uniPopup:n("d1df").default,myPopupBank:n("d9d8").default,myPopupPay:n("24f6").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"pd10 f-16 f-gray"},[t._v("请绑定持卡人"),t.visitor.real_name?n("v-uni-text",{staticClass:"f-red"},[t._v(t._s(t.visitor.real_name))]):t._e(),t._v("本人的银行卡")],1),n("v-uni-view",{staticClass:"bgf round-edge ml10 mr10"},[n("v-uni-view",{staticClass:"uni-flex uni-row width-between pd10 flex-middle item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPopup(e,"bank")}}},[n("v-uni-text",{staticClass:"title f-15"},[t._v("开户行")]),n("v-uni-view",[n("v-uni-text",{class:["iconfont f-15",t.bank.code]}),n("v-uni-text",{staticClass:"ml5 f-15 mr10"},[t._v(t._s(t.bank.bank))]),n("uni-icons",{attrs:{type:"arrowright"}})],1)],1),n("v-uni-view",{staticClass:"uni-flex uni-row width-between pd10 item bt flex-middle"},[n("v-uni-text",{staticClass:"title f-15"},[t._v("持卡人")]),n("v-uni-input",{staticClass:"width-surplus f-15",attrs:{placeholder:t.visitor.real_name,placeholder:"姓名"},model:{value:t.bank.name,callback:function(e){t.$set(t.bank,"name",e)},expression:"bank.name"}})],1),n("v-uni-view",{staticClass:"uni-flex uni-row width-between pd10 item bt flex-middle"},[n("v-uni-text",{staticClass:"title f-15"},[t._v("卡号")]),n("v-uni-input",{staticClass:"width-surplus f-15",attrs:{type:"number",placeholder:"持卡人银行卡号"},model:{value:t.bank.account,callback:function(e){t.$set(t.bank,"account",e)},expression:"bank.account"}})],1),n("v-uni-view",{staticClass:"uni-flex uni-row width-between pd10 item bt flex-middle"},[n("v-uni-text",{staticClass:"title f-15"},[t._v("支行")]),n("v-uni-input",{staticClass:"width-surplus f-15",attrs:{placeholder:"XXX支行"},model:{value:t.bank.area,callback:function(e){t.$set(t.bank,"area",e)},expression:"bank.area"}})],1)],1),n("v-uni-view",{staticClass:"pt10"},[n("v-uni-view",{staticClass:"mybutton f-white uni-center f-16 mt10 ml10 mr10",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPopup(e,"pay")}}},[t._v("确认提交")]),n("v-uni-view",{staticClass:"pd10 f-gray f-12 l-h20 ml10 mr10 uni-center mt5"},[t._v("银行卡信息仅作为站内余额提现时需要，不用于其他用途")])],1),n("uni-popup",{ref:"bank",attrs:{type:"bottom"}},[n("my-popup-bank",{attrs:{showAdd:!1,title:"添加银行卡",desc:"请选择持卡人本人的银行卡",banks:t.banks,selected:t.bank},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}})],1),n("uni-popup",{ref:"pay",attrs:{type:"dialog"}},[n("my-popup-pay",{on:{cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.payment.apply(void 0,arguments)}}})],1)],1)},o=[]},"1a51":function(t,e,n){"use strict";var i=n("6d51"),a=n.n(i);a.a},"22b8":function(t,e,n){"use strict";n.r(e);var i=n("81b4"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"24f6":function(t,e,n){"use strict";n.r(e);var i=n("df4d"),a=n("57e4");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("bbff");var c=n("828b"),s=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"bca31c6a",null,!1,i["a"],void 0);e["default"]=s.exports},"31cd":function(t,e,n){"use strict";n.r(e);var i=n("0cc5"),a=n("678f");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("1a51");var c=n("828b"),s=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"184e8b79",null,!1,i["a"],void 0);e["default"]=s.exports},"4b27":function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("ac89")),o=i(n("d046")),c={data:function(){return{visitor:{},banks:[{code:"ICBC",bank:"中国工商银行"},{code:"ABC",bank:"中国农业银行"},{code:"CCB",bank:"中国建设银行"},{code:"BOC",bank:"中国银行"}],bank:{},form:{account:"",name:""}}},methods:{showPopup:function(t,e){return this.$refs[e].open()},closePopup:function(t,e){return this.$refs[e].close()},cancel:function(t){a.default.redirect("/pages/deposit/setting/pay")},confirm:function(t,e){this.bank=e,this.form=Object.assign(this.form,e),t()},payment:function(t,e){o.default.submit(this,e,(function(){t()}))}},onLoad:function(t){a.default.verifyLogin(!0,this.$mp.page.route),this.visitor=uni.getStorageSync("visitor")||{},this.bank=this.banks[0]}};e.default=c},"4f31":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("ea5d").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"bgf pt5"},[n("uni-icons",{staticClass:"ml10 absolute pt5",attrs:{type:"closeempty",size:"44",color:"gray"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}),n("v-uni-view",{class:["uni-center f-16 pt10",t.desc?"":"pb10"]},[t._v(t._s(t.title))]),t.desc?n("v-uni-view",{staticClass:"f-gray f-13 uni-center pb10"},[t._v(t._s(t.desc))]):t._e(),n("v-uni-scroll-view",{staticStyle:{height:"700rpx"},attrs:{"scroll-x":!1,"scroll-y":!0}},[t._l(t.banks,(function(e,i){return n("v-uni-view",{key:i,staticClass:"uni-flex uni-row ml10 mr10 pt10 pb10 bt flex-middle width-between",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.confirm(n,e)}}},[n("v-uni-view",{staticClass:"uni-flex uni-row flex-middle f-16"},[n("v-uni-text",{class:["iconfont",e.code],staticStyle:{"font-size":"60rpx"}}),n("v-uni-text",{staticClass:"mr10 ml10"},[t._v(t._s(e.bank))]),e.account&&"wxpay"!=e.code?n("v-uni-text",[t._v("("+t._s(e.account)+")")]):t._e()],1),n("uni-icons",{directives:[{name:"show",rawName:"v-show",value:t.selected.code==e.code&&t.selected.account==e.account,expression:"selected.code == item.code && selected.account == item.account"}],staticClass:"mr10",attrs:{type:"checkmarkempty",size:"40",color:"#fc2b34"}})],1)})),t.showAdd?n("v-uni-navigator",{staticClass:"pd10 bt mg5",attrs:{url:"/pages/my/bank/build?redirect="+t.redirect,"hover-class":"none"}},[n("v-uni-view",{staticClass:"uni-flex uni-row flex-middle f-16 pd5"},[t._v("添加提现银行卡")])],1):t._e()],2)],1)],1)},o=[]},"57e4":function(t,e,n){"use strict";n.r(e);var i=n("62c4"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"62c4":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniPopupDialog",props:{title:{type:String,default:"确认支付"},confimText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},beforeClose:{type:Boolean,default:!1}},data:function(){return{password:""}},inject:["popup"],created:function(){this.popup.mkclick=!1},methods:{confirm:function(){var t=this;this.$emit("confirm",(function(){t.popup.close()}),this.password)},close:function(){var t=this;this.beforeClose?this.$emit("close",(function(){t.popup.close()})):this.popup.close()},cancel:function(){var t=this;this.$emit("cancel",(function(){t.popup.close()}))},clearInput:function(t,e){this.password=""}}};e.default=i},"678f":function(t,e,n){"use strict";n.r(e);var i=n("4b27"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"6d51":function(t,e,n){var i=n("d043");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("26a78dfe",i,!0,{sourceMap:!1,shadowMode:!1})},"81b4":function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("ac89")),o={name:"uniPopupDialog",props:{title:{type:String,default:"选择提现到"},desc:{type:String,default:"到账时间以各渠道处理为准"},beforeClose:{type:Boolean,default:!1},banks:{type:Array,default:function(){return[]}},showAdd:{type:Boolean,default:!0},selected:{type:Object,default:function(){return{}}}},data:function(){return{bank:{},redirect:""}},inject:["popup"],created:function(){this.popup.mkclick=!0,this.redirect=encodeURIComponent(a.default.getUrl())},methods:{confirm:function(t,e){var n=this;this.bank=e,this.$emit("confirm",(function(){n.popup.close()}),this.bank)},close:function(){var t=this;this.beforeClose?this.$emit("close",(function(){t.popup.close()})):this.popup.close()}}};e.default=o},"933e":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,".uni-popup-dialog[data-v-bca31c6a]{width:%?600?%;border-radius:%?30?%;background-color:#fff}.uni-dialog-title[data-v-bca31c6a]{\ndisplay:flex;\nflex-direction:row;justify-content:center;padding-top:%?30?%;padding-bottom:%?10?%}.uni-dialog-title-text[data-v-bca31c6a]{font-size:%?32?%}.uni-dialog-title .absolute[data-v-bca31c6a]{left:%?30?%;right:auto}.uni-dialog-content[data-v-bca31c6a]{\ndisplay:flex;\nflex-direction:row;justify-content:center;align-items:center;padding:%?30?% %?20?%;background-color:#fff;text-align:center}.uni-dialog-content .absolute[data-v-bca31c6a]{left:auto;right:%?30?%}.uni-dialog-content-text[data-v-bca31c6a]{font-size:%?30?%;color:#6e6e6e}.uni-dialog-button-group[data-v-bca31c6a]{\ndisplay:flex;\nflex-direction:row;border-top-color:#f5f5f5;border-top-style:solid;border-top-width:%?2?%}.uni-dialog-button[data-v-bca31c6a]{\ndisplay:flex;\nflex:1;flex-direction:row;justify-content:center;align-items:center;height:%?90?%}.uni-border-left[data-v-bca31c6a]{border-left-color:#f0f0f0;border-left-style:solid;border-left-width:%?2?%}.uni-dialog-button-text[data-v-bca31c6a]{font-size:%?30?%}.uni-button-color[data-v-bca31c6a]{color:#007aff}.uni-dialog-input[data-v-bca31c6a]{flex:1;font-size:%?28?%}",""]),t.exports=e},"9e9b":function(t,e,n){var i=n("933e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("19343ae2",i,!0,{sourceMap:!1,shadowMode:!1})},bbff:function(t,e,n){"use strict";var i=n("9e9b"),a=n.n(i);a.a},d043:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,".item[data-v-184e8b79]{padding:%?30?% %?20?%}.item .title[data-v-184e8b79]{width:%?120?%}.mybutton[data-v-184e8b79]{background-image:linear-gradient(90deg,#dcb36b,#d68e3b);border-radius:%?16?%}",""]),t.exports=e},d046:function(t,e,n){"use strict";var i=n("f5bd").default,a=i(n("ac89")),o=i(n("0ed1"));t.exports={submit:
/**
 * @link https://www.shopwind.net/
 * @copyright Copyright (c) 2018 ShopWind Inc. All Rights Reserved.
 *
 * This is not free software. Do not use it for commercial purposes. 
 * If you need commercial operation, please contact us to purchase a license.
 * @license https://www.shopwind.net/license/
 *
 * @Id build.js 2019.10.12 $
 * @author winder
 */
function(t,e){o.default.request("bank/add",Object.assign(t.bank,{password:e||""}),(function(e){0==e.code?uni.showToast({title:"添加成功",duration:2e3,success:function(){setTimeout((function(){a.default.redirect(t.redirect||"/pages/my/bank/list")}),2e3)}}):uni.showToast({title:e.message,icon:"none"})}))}}},d9d8:function(t,e,n){"use strict";n.r(e);var i=n("4f31"),a=n("22b8");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var c=n("828b"),s=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=s.exports},df4d:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("ea5d").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"uni-popup-dialog"},[n("v-uni-view",{staticClass:"uni-dialog-title relative"},[n("uni-icons",{staticClass:"absolute f-gray",attrs:{type:"closeempty",color:"",size:"34"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}),n("v-uni-text",{staticClass:"uni-dialog-title-text uni-bold"},[t._v(t._s(t.title))])],1),t._t("default"),n("v-uni-view",{staticClass:"uni-dialog-content relative"},[n("v-uni-input",{staticClass:"uni-dialog-input",attrs:{type:"text",password:"true",placeholder:"输入支付密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("uni-icons",{directives:[{name:"show",rawName:"v-show",value:t.password,expression:"password"}],staticClass:"absolute",attrs:{type:"clear",color:"gray",size:"28"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearInput(e,"password")}}})],1),n("v-uni-view",{staticClass:"uni-dialog-button-group"},[n("v-uni-view",{staticClass:"uni-dialog-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"uni-dialog-button-text f-c55"},[t._v(t._s(t.cancelText))])],1),n("v-uni-view",{staticClass:"uni-dialog-button uni-border-left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"uni-dialog-button-text uni-button-color"},[t._v(t._s(t.confimText))])],1)],1)],2)],1)},o=[]}}]);