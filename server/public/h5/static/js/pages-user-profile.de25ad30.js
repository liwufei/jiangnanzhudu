(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-profile"],{"51e0":function(i,t,e){"use strict";e.r(t);var s=e("a560"),n=e.n(s);for(var a in s)["default"].indexOf(a)<0&&function(i){e.d(t,i,(function(){return s[i]}))}(a);t["default"]=n.a},8876:function(i,t,e){"use strict";e.d(t,"b",(function(){return n})),e.d(t,"c",(function(){return a})),e.d(t,"a",(function(){return s}));var s={uniIcons:e("ea5d").default},n=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("v-uni-view",[e("v-uni-view",{staticClass:"uni-flex uni-column bgf round-edge ml10 mr10 mt10"},["nickname"==i.field?e("v-uni-view",{staticClass:"uni-flex uni-row ml10 mr10 pt10 pb10 flex-middle"},[e("v-uni-text",{staticClass:"f-15 mr10 pt5 pb5 f-gray"},[i._v("用户昵称")]),e("v-uni-input",{staticClass:"f-15 pt5 pb5 width-surplus",attrs:{focus:"true"},model:{value:i.visitor.nickname,callback:function(t){i.$set(i.visitor,"nickname",t)},expression:"visitor.nickname"}}),e("uni-icons",{directives:[{name:"show",rawName:"v-show",value:i.visitor.nickname,expression:"visitor.nickname"}],staticClass:"mr10",attrs:{type:"closeempty",color:"gray",size:"40"},on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.clearInput.apply(void 0,arguments)}}})],1):i._e(),"password"==i.field?e("v-uni-view",{staticClass:"uni-flex uni-row ml10 mr10 pt10 pb10 flex-middle"},[e("v-uni-text",{staticClass:"f-15 mr10 pt5 pb5 f-gray"},[i._v("登录密码")]),e("v-uni-input",{staticClass:"f-15 pt5 pb5 width-surplus",attrs:{focus:"true"},model:{value:i.visitor.password,callback:function(t){i.$set(i.visitor,"password",t)},expression:"visitor.password"}}),e("uni-icons",{directives:[{name:"show",rawName:"v-show",value:i.visitor.password,expression:"visitor.password"}],staticClass:"mr10",attrs:{type:"closeempty",color:"gray",size:"40"},on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.clearInput.apply(void 0,arguments)}}})],1):i._e(),"email"==i.field?e("v-uni-view",{staticClass:"uni-flex uni-row ml10 mr10 pt10 pb10 flex-middle"},[e("v-uni-text",{staticClass:"f-15 mr10 pt5 pb5 f-gray"},[i._v("您的邮箱")]),e("v-uni-input",{staticClass:"f-15 pt5 pb5 width-surplus",attrs:{focus:"true"},model:{value:i.visitor.email,callback:function(t){i.$set(i.visitor,"email",t)},expression:"visitor.email"}}),e("uni-icons",{directives:[{name:"show",rawName:"v-show",value:i.visitor.email,expression:"visitor.email"}],staticClass:"mr10",attrs:{type:"closeempty",color:"gray",size:"40"},on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.clearInput.apply(void 0,arguments)}}})],1):i._e(),"qq"==i.field?e("v-uni-view",{staticClass:"uni-flex uni-row ml10 mr10 pt10 pb10 flex-middle"},[e("v-uni-text",{staticClass:"f-15 mr10 pt5 pb5 f-gray"},[i._v("您的QQ")]),e("v-uni-input",{staticClass:"f-15 pt5 pb5 width-surplus",attrs:{focus:"true"},model:{value:i.visitor.qq,callback:function(t){i.$set(i.visitor,"qq",t)},expression:"visitor.qq"}}),e("uni-icons",{directives:[{name:"show",rawName:"v-show",value:i.visitor.qq,expression:"visitor.qq"}],staticClass:"mr10",attrs:{type:"closeempty",color:"gray",size:"40"},on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.clearInput.apply(void 0,arguments)}}})],1):i._e(),"birthday"==i.field?e("v-uni-view",{staticClass:"uni-flex uni-row ml10 mr10 pt10 pb10 flex-middle"},[e("v-uni-text",{staticClass:"f-15 mr10 pt5 pb5 f-gray"},[i._v("您的生日")]),e("v-uni-picker",{staticClass:"f-15 pt5 pb5 width-surplus",attrs:{value:i.visitor.birthday,mode:"date"},on:{change:function(t){arguments[0]=t=i.$handleEvent(t),i.pickerChange.apply(void 0,arguments)}}},[i._v(i._s(i.visitor.birthday||"2020-01-01"))])],1):i._e()],1),e("v-uni-view",{staticClass:"f-white uni-center f-15 ml10 mr10 pt10"},[e("v-uni-view",{staticClass:"mybutton mt10 f-15 uni-bold",on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.submit.apply(void 0,arguments)}}},[i._v("保存")])],1)],1)},a=[]},a560:function(i,t,e){"use strict";e("6a54");var s=e("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(e("ac89")),a=s(e("cc58")),r={data:function(){return{field:"",visitor:{}}},methods:{clearInput:function(){this.visitor[this.field]=""},pickerChange:function(i){this.visitor[this.field]=i.target.value},submit:function(){a.default.profile(this)}},onLoad:function(i){this.field=i.field,n.default.verifyLogin(!0,this.$mp.page.route)&&a.default.user(this)}};t.default=r},bead:function(i,t,e){"use strict";e.r(t);var s=e("8876"),n=e("51e0");for(var a in n)["default"].indexOf(a)<0&&function(i){e.d(t,i,(function(){return n[i]}))}(a);var r=e("828b"),u=Object(r["a"])(n["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=u.exports},cc58:function(i,t,e){"use strict";var s=e("f5bd").default,n=s(e("39d8")),a=s(e("0ed1")),r=s(e("ac89"));i.exports={user:
/**
 * @link https://www.shopwind.net/
 * @copyright Copyright (c) 2018 ShopWind Inc. All Rights Reserved.
 *
 * This is not free software. Do not use it for commercial purposes. 
 * If you need commercial operation, please contact us to purchase a license.
 * @license https://www.shopwind.net/license/
 *
 * @Id profile.js 2019.10.30 $
 * @author winder
 */
function(i){a.default.request("user/read",null,(function(t){if(0==t.code){var e=uni.getStorageSync("visitor")||{};i.visitor=Object.assign(e,t.data)}}))},profile:function(i){var t=i.visitor[i.field];r.default.isEmpty(t)?uni.showToast({title:"字段不能为空",icon:"none"}):a.default.request("user/update",(0,n.default)({},i.field,t),(function(i){0==i.code?uni.showToast({title:"修改成功",duration:2e3,success:function(){setTimeout((function(){uni.navigateBack()}),2e3)}}):uni.showToast({title:i.message,icon:"none"})}))}}}}]);