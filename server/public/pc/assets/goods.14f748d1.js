import{r as D,u as O,y as S,d as R,e as b,f as T,o as l,c as n,a as d,w as A,k as t,g as o,F as v,m as y,l as u,p as h,i as x,h as G,j as m,t as c,C as B,v as H,x as J,n as K}from"./index.193ff21d.js";import{a as Q,f as W}from"./blocks.a7684095.js";import{_ as X}from"./home.5fee7488.js";import{_ as Y}from"./home.85f29f3b.js";import"./chat.b31cc7ff.js";const $=w=>(H("data-v-954377ec"),w=w(),J(),w),Z={class:"w"},ee={key:0,class:"selectors mt20 bgf pl10 pt10 pr10 pb5 round-edge"},se={key:0,class:"uni-flex uni-row mt10 mb10 ml20 item filters"},te=$(()=>o("p",{class:"name f-red"},"\u5DF2\u9009\uFF1A",-1)),oe={class:"uni-flex uni-row flex-wrap values uni-center flex-middle"},le=["onClick"],ne={key:1,class:"uni-flex uni-row mt20 mb10 ml20 item"},re=$(()=>o("p",{class:"name f-c55"},"\u5206\u7C7B\uFF1A",-1)),ae={class:"uni-flex uni-row flex-wrap values uni-center"},ie=["onClick"],ce={class:"f-gray"},de={key:2,class:"uni-flex uni-row mt20 mb20 ml20 item"},pe=$(()=>o("p",{class:"name f-c55"},"\u54C1\u724C\uFF1A",-1)),_e={class:"uni-flex uni-row flex-wrap values uni-center"},ue=["onClick"],me={class:"f-gray"},ge={key:3},fe={class:"uni-flex uni-row mt20 mb20 ml20 item"},be={class:"name f-c55"},ve={class:"uni-flex uni-row flex-wrap values uni-center"},ye=["onClick"],he={class:"f-gray"},xe={class:"uni-flex uni-row mt20 bgf pd10 round-edge flex-middle sortby"},ke=$(()=>o("span",{class:"pt5 pb5 f-gray ml10"},"\u6392\u5E8F\uFF1A",-1)),Ce={class:"uni-flex uni-row pt5 pb5 flex-middle"},we={class:"uni-flex uni-row vertical-middle ml20"},ze=m("\uFFE5"),$e=m(" - "),Ve=m("\uFFE5"),Se={class:"ml10"},Be=m("\u63D0\u4EA4"),Ne={key:1,class:"gallery mt20"},Ie={class:"uni-flex uni-row flex-wrap bd"},Ue={class:"item bgf pb5 relative"},De={key:0,class:"f-12 f-white bgr absolute tag"},Pe=["src"],je={class:"pl10 pr10 ml5 mr5 pt5 f-gray f-13"},qe={key:1,class:"f-16 f-red pd10 ml5 mr5"},Fe={class:"f-gray mr10"},Le={key:2,class:"f-16 f-red pd10 ml5 mr5"},Ee={key:0,class:"mt20 mb20"},Me={setup(w){const V=D(!0),N=O(),i=S({selectors:{by_category:[],by_brand:[],by_props:[]},filters:[],list:[]}),r=S({orderby:""}),_=D({}),p=S({min:"",max:""});R(()=>{k({page_size:40})});const g=a=>{r.orderby=a||"",p.max>=p.min&&p.min>=0&&(r.price=Number(p.min)+"-"+Number(p.max)),k(r)},P=a=>{k({page_size:a})},j=a=>{k({page:a,page_size:_.value.page_size})},z=(a,s,C)=>{if(a=="props"?(C=="remove"?s=r[a]?r[a].replace(s,"").replace("||","|"):"":r[a]&&r[a].length>0&&(s+="|"+r[a]),r[a]=s):r[a]=C=="remove"?"":s,a=="keyword"&&C=="remove")return K("/search/goods");k(r)};function k(a={}){W(Object.assign({if_show:1,closed:0,cate_id:N.params.id},N.query,a),s=>{i.list=s.list,i.selectors=s.selectors||{},i.filters=s.filters||[],_.value=s.pagination},V)}return(a,s)=>{const C=b("CloseBold"),q=b("el-icon"),I=b("el-input"),F=b("el-button"),U=b("router-link"),L=b("el-pagination"),E=b("el-empty"),M=T("loading");return l(),n(v,null,[d(X,{exclude:["imagead"]}),A((l(),n("div",Z,[t(i).filters.length>0||t(i).selectors.by_category.length>0||t(i).selectors.by_brand.length>0||t(i).selectors.by_props.length>0?(l(),n("div",ee,[t(i).filters.length>0?(l(),n("div",se,[te,o("div",oe,[(l(!0),n(v,null,y(t(i).filters,e=>(l(),n("span",{onClick:f=>z(e.key,e.value,"remove"),class:"bgp mr10 pointer vertical-middle bgr f-white"},[o("label",null,c(e.category)+"\uFF1A"+c(e.name),1),d(q,null,{default:x(()=>[d(C)]),_:1})],8,le))),256))])])):u("",!0),t(i).selectors.by_category.length>0?(l(),n("div",ne,[re,o("div",ae,[(l(!0),n(v,null,y(t(i).selectors.by_category,e=>(l(),n("span",{onClick:f=>z("cate_id",e.cate_id),class:"bgp mr20 mb10 line-clamp-1 pointer"},[m(c(e.cate_name),1),o("label",ce,"("+c(e.count)+")",1)],8,ie))),256))])])):u("",!0),t(i).selectors.by_brand.length>0?(l(),n("div",de,[pe,o("div",_e,[(l(!0),n(v,null,y(t(i).selectors.by_brand,e=>(l(),n("span",{onClick:f=>z("brand",e.brand),class:"bgp mr20 mb10 line-clamp-1 pointer"},[m(c(e.brand),1),o("label",me,"("+c(e.count)+")",1)],8,ue))),256))])])):u("",!0),t(i).selectors.by_props.length>0?(l(),n("div",ge,[(l(!0),n(v,null,y(t(i).selectors.by_props,e=>(l(),n("div",fe,[o("p",be,c(e.name)+"\uFF1A",1),o("div",ve,[(l(!0),n(v,null,y(e.values,f=>(l(),n("span",{onClick:Oe=>z("props",f.pid+":"+f.vid),class:"bgp mr20 mb10 line-clamp-1 pointer"},[m(c(f.val),1),o("label",he,"("+c(f.count)+")",1)],8,ye))),256))])]))),256))])):u("",!0)])):u("",!0),o("div",xe,[ke,o("div",Ce,[o("p",{class:h(["ml20 mr20 pointer",t(r).orderby==""?"f-red":""]),onClick:s[0]||(s[0]=e=>g(""))},"\u7EFC\u5408",2),o("p",{class:h(["ml20 mr20 pointer",t(r).orderby=="sales|desc"?"f-red":""]),onClick:s[1]||(s[1]=e=>g("sales|desc"))},"\u9500\u91CF",2),o("p",{class:h(["ml20 mr20 pointer",t(r).orderby=="price|desc"?"f-red":""]),onClick:s[2]||(s[2]=e=>g("price|desc"))},"\u4EF7\u683C",2),o("p",{class:h(["ml20 mr20 pointer",t(r).orderby=="add_time|desc"?"f-red":""]),onClick:s[3]||(s[3]=e=>g("add_time|desc"))},"\u4E0A\u67B6",2),o("p",{class:h(["ml20 mr20 pointer",t(r).orderby=="comments|desc"?"f-red":""]),onClick:s[4]||(s[4]=e=>g("comments|desc"))},"\u8BC4\u8BBA",2),o("p",{class:h(["ml20 mr20 pointer",t(r).orderby=="views|desc"?"f-red":""]),onClick:s[5]||(s[5]=e=>g("views|desc"))},"\u4EBA\u6C14",2),o("p",we,[d(I,{modelValue:t(p).min,"onUpdate:modelValue":s[6]||(s[6]=e=>t(p).min=e),class:"small mr5",maxlength:"5",clearable:""},{prepend:x(()=>[ze]),_:1},8,["modelValue"]),$e,d(I,{modelValue:t(p).max,"onUpdate:modelValue":s[7]||(s[7]=e=>t(p).max=e),class:"small ml5",maxlength:"5",clearable:""},{prepend:x(()=>[Ve]),_:1},8,["modelValue"])]),o("p",Se,[d(F,{onClick:s[8]||(s[8]=e=>g(t(r).orderby)),type:"primary",class:"f-13"},{default:x(()=>[Be]),_:1})])])]),t(i).list.length>0?(l(),n("div",Ne,[o("div",Ie,[(l(!0),n(v,null,y(t(i).list,e=>(l(),n("div",Ue,[e.promotion?(l(),n("em",De,"\u79D2\u6740")):u("",!0),d(U,{to:"/goods/detail/"+e.goods_id,class:"rlink"},{default:x(()=>[o("img",{src:e.default_image,class:"block bgp"},null,8,Pe)]),_:2},1032,["to"]),d(U,{to:"/goods/detail/"+e.goods_id,class:"rlink line-clamp-2 pl10 pr10 ml5 mr5 mt5 mb5 desc"},{default:x(()=>[m(c(e.goods_name),1)]),_:2},1032,["to"]),o("p",je," \u5DF2\u552E\u51FA: "+c(e.sales||0)+" \u4EF6 ",1),e.promotion?(l(),n("p",qe,[o("del",Fe,c(t(B)(e.price)),1),o("span",null,c(t(B)(e.promotion.price)),1)])):(l(),n("p",Le,c(t(B)(e.price)),1))]))),256))]),_.value.total>0?(l(),n("div",Ee,[d(L,{currentPage:_.value.page,"onUpdate:currentPage":s[9]||(s[9]=e=>_.value.page=e),"page-size":_.value.page_size,"onUpdate:page-size":s[10]||(s[10]=e=>_.value.page_size=e),background:!0,"page-sizes":[10,40,100,200],layout:"total, sizes, prev, pager, next",total:_.value.total,onSizeChange:P,onCurrentChange:j,"hide-on-single-page":!1,class:"center"},null,8,["currentPage","page-size","total"])])):u("",!0)])):V.value?u("",!0):(l(),G(E,{key:2,class:"round-edge bgf mt20",description:"\u6CA1\u6709\u5546\u54C1"}))])),[[M,V.value]]),d(Y)],64)}}};var Je=Q(Me,[["__scopeId","data-v-954377ec"]]);export{Je as default};
