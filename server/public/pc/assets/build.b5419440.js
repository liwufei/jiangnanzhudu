import{u as W,r as C,y as v,d as $,e as a,o as I,c as z,a as e,g as o,i as t,k as i,F as D,h as H,t as w,l as T,j as m,E as A,v as G,x as J,H as K,M as L}from"./index.193ff21d.js";import{a as P,h as Q,c as X}from"./blocks.a7684095.js";import{a as Y,b as Z}from"./distribute.8f53c7e1.js";import{s as ee}from"./list.1db9be99.js";import{m as te}from"./seller.b9776ff6.js";import{_ as oe}from"./user.4d579c29.js";import{m as le}from"./seller.c6d1e739.js";import"./multiselector.e3a63f5d.js";import"./weixin.864acb91.js";import"./chat.b31cc7ff.js";const N=b=>(G("data-v-8426c9c0"),b=b(),J(),b),se={class:"main w pt10"},ae={class:"round-edge pd10 bgf"},ie={class:"pd10"},ne=m("\u8425\u9500"),de=m("\u5206\u9500\u5546\u54C1"),ce={class:"round-edge pd10 bgf mt20"},_e=N(()=>o("h3",{class:"pd10 mb20"},"\u5206\u9500\u5546\u54C1\u8BBE\u7F6E",-1)),re=m("\u9009\u62E9\u5546\u54C1"),me={class:"uni-flex uni-row"},ue=["src"],pe={class:"l-h20 width-surplus ml10"},be={class:"tips pl10 pr10 pt5 pb5 f-12 f-c60 flex-middle",style:{width:"100%"}},fe=m(" \u5206\u9500\u6BD4\u7387\u9002\u7528\u4E8E\u6240\u6709\u89C4\u683C\uFF0C\u6682\u4E0D\u652F\u6301\u6307\u5B9A\u89C4\u683C\u8BBE\u7F6E\u6BD4\u7387 "),ge={class:"ml10 mr10"},he={class:"mb10"},ve=m("\u4E00\u7EA7\u8FD4\u4F63 "),we={class:"mb10"},xe=m("\u4E8C\u7EA7\u8FD4\u4F63 "),ye={class:"mb10"},Ve=m("\u4E09\u7EA7\u8FD4\u4F63 "),ke=N(()=>o("text",{class:"ml20 mr20"},"\u63D0\u4EA4",-1)),Ce={setup(b){const x=W(),y=C(!1),c=v({visible:!1,selected:[]}),l=v({enabled:1,ratio1:.3,ratio2:.2,ratio3:.1}),f=v({list:[]}),_=C({});$(()=>{x.params.goods_id&&Y({goods_id:x.params.goods_id},n=>{n&&(Object.assign(l,n,{enabled:parseInt(n.enabled)}),c.selected=[parseInt(l.goods_id)],V())})});const S=n=>{l.enabled=n},U=()=>{if(f.list.length<1)return A.warning("\u8BF7\u9009\u62E9\u5546\u54C1");Z(Object.assign(l,{goods_id:_.value.goods_id}),n=>{K({title:"\u63D0\u793A",message:"\u5206\u9500\u5546\u54C1\u8BBE\u7F6E\u6210\u529F\uFF01",type:"success",position:"bottom-left",duration:2e3,onClose:function(){L.replace("/seller/distribute/list")}})},y)},B=n=>{c.visible=!1,c.selected=n||[],c.selected.length>0&&V()};function V(){Q({goods_id:c.selected[c.selected.length-1]},n=>{_.value=n,X({goods_id:n.goods_id},s=>{for(let p in s.list){let r=s.list[p];f.list[p]={specification:r.spec_1+" "+r.spec_2,price:r.price,stock:r.stock,image:r.image,spec_id:r.spec_id}}})})}return(n,s)=>{const p=a("el-col"),r=a("el-breadcrumb-item"),E=a("el-breadcrumb"),k=a("el-button"),u=a("el-form-item"),F=a("WarningFilled"),j=a("el-icon"),g=a("el-table-column"),q=a("el-table"),h=a("el-input-number"),M=a("el-switch"),R=a("el-form"),O=a("el-row");return I(),z(D,null,[e(te),o("div",se,[e(O,{gutter:12},{default:t(()=>[e(p,{span:4},{default:t(()=>[e(le)]),_:1}),e(p,{span:20},{default:t(()=>[o("div",ae,[o("div",ie,[e(E,{separator:"/"},{default:t(()=>[e(r,null,{default:t(()=>[ne]),_:1}),e(r,null,{default:t(()=>[de]),_:1})]),_:1})])]),o("div",ce,[_e,e(R,{inline:!0,class:"pd10"},{default:t(()=>[e(u,{label:"\u9009\u62E9\u5546\u54C1","label-width":100},{default:t(()=>[e(k,{disabled:i(l).goods_id,onClick:s[0]||(s[0]=d=>i(c).visible=!0),type:"primary",plain:""},{default:t(()=>[re]),_:1},8,["disabled"])]),_:1}),_.value.goods_id?(I(),H(u,{key:0,label:" ","label-width":100},{default:t(()=>[o("div",me,[o("p",null,[o("img",{src:_.value.default_image,width:"60",height:"60"},null,8,ue)]),o("p",pe,w(_.value.goods_name),1)])]),_:1})):T("",!0),e(u,{label:" ","label-width":100,style:{"margin-right":"0"}},{default:t(()=>[o("p",be,[e(j,{size:14,class:"mr5"},{default:t(()=>[e(F)]),_:1}),fe]),e(q,{data:i(f).list,border:!0,stripe:!0,"header-cell-style":{background:"#f3f8fe"}},{default:t(()=>[e(g,{label:_.value.spec_qty>0?_.value.spec_name_1+" "+_.value.spec_name_2||"":"\u89C4\u683C"},{default:t(d=>[o("text",null,w(_.value.spec_qty>0?d.row.specification:"\u9ED8\u8BA4\u89C4\u683C"),1)]),_:1},8,["label"]),e(g,{prop:"stock",label:"\u5E93\u5B58",width:"200"}),e(g,{label:"\u4EF7\u683C",width:"200"},{default:t(d=>[m(w(d.row.price),1)]),_:1})]),_:1},8,["data"])]),_:1}),e(u,{label:"\u4F63\u91D1\u7B56\u7565","label-width":100},{default:t(()=>[o("div",ge,[o("p",he,[ve,e(h,{modelValue:i(l).ratio1,"onUpdate:modelValue":s[1]||(s[1]=d=>i(l).ratio1=d),"controls-position":"right",step:.01,min:.01,max:.99},null,8,["modelValue","step","min","max"])]),o("p",we,[xe,e(h,{modelValue:i(l).ratio2,"onUpdate:modelValue":s[2]||(s[2]=d=>i(l).ratio2=d),"controls-position":"right",step:.01,min:.01,max:.99},null,8,["modelValue","step","min","max"])]),o("p",ye,[Ve,e(h,{modelValue:i(l).ratio3,"onUpdate:modelValue":s[3]||(s[3]=d=>i(l).ratio3=d),"controls-position":"right",step:.01,min:.01,max:.99},null,8,["modelValue","step","min","max"])])])]),_:1}),e(u,{label:"\u542F\u7528","label-width":100},{default:t(()=>[e(M,{modelValue:i(l).enabled,"onUpdate:modelValue":s[4]||(s[4]=d=>i(l).enabled=d),onChange:S,"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),e(u,{label:" ","label-width":100,class:"mt10"},{default:t(()=>[e(k,{type:"primary",onClick:U,loading:y.value},{default:t(()=>[ke]),_:1},8,["loading"])]),_:1})]),_:1})])]),_:1})]),_:1})]),e(ee,{title:"\u9009\u62E9\u5546\u54C1",visible:i(c).visible,onClose:B,selected:i(c).selected,limit:1},null,8,["visible","selected"]),e(oe)],64)}}};var Re=P(Ce,[["__scopeId","data-v-8426c9c0"]]);export{Re as default};
