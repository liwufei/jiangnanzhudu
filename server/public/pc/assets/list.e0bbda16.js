import{a as q,n as O,o as A}from"./blocks.a7684095.js";import{r as y,y as G,d as J,e as a,f as K,o as c,c as u,a as e,g as s,i as l,F as Q,k as r,w as R,n as D,j as m,t as p,C as Y,l as W,I as X,E as Z}from"./index.193ff21d.js";import{m as ee}from"./seller.b9776ff6.js";import{_ as te}from"./user.4d579c29.js";import{m as le}from"./seller.c6d1e739.js";import"./weixin.864acb91.js";import"./chat.b31cc7ff.js";const oe={class:"main w pt10"},ae={class:"round-edge pd10 bgf"},se={class:"pd10"},ne=m("\u8425\u9500"),ie=m("\u79D2\u6740\u7BA1\u7406"),re={class:"round-edge pd10 bgf mt20"},de={class:"pl10 pt10"},_e={class:"block"},ce=m("\u67E5\u8BE2"),ue={class:"round-edge pl20 pr20 pb20 pt20 bgf mt20"},pe={class:"mb20"},me=m("\u65B0\u589E\u79D2\u6740 "),ge=["src"],fe={class:"f-12 f-gray l-h17"},he={class:"l-h17"},be={key:0,class:"f-gray"},ve={key:1,class:"f-red"},we={key:2,class:"f-red"},ye={key:3,class:"f-green"},ke={key:4,class:"f-blue"},Ce={class:"l-h17"},xe={class:"l-h17"},ze=m("\u7F16\u8F91 "),Ve=m(" \u5220\u9664 "),De={key:0,class:"mt20 mb20"},Ye={setup(Me){const k=y(!1),f=y([]),_=y({}),d=G({});J(()=>{g()});const C=()=>{g()},M=n=>{d.begin=n?n[0]:"",d.end=n?n[1]:"",g()},B=n=>{X.confirm("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u79D2\u6740\u6D3B\u52A8\u5417\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",type:"warning"}).then(()=>{A(f.value[n],o=>{Z.success("\u5220\u9664\u6210\u529F\uFF01"),f.value.splice(n,1)})}).catch(()=>{})},U=n=>{g({page_size:n})},$=n=>{g({page:n,page_size:_.value.page_size})};function g(n={}){O(Object.assign(d,n),o=>{f.value=o.list,_.value=o.pagination},k)}return(n,o)=>{const h=a("el-col"),x=a("el-breadcrumb-item"),E=a("el-breadcrumb"),b=a("el-option"),H=a("el-select"),v=a("el-form-item"),N=a("el-input"),L=a("el-date-picker"),w=a("el-button"),P=a("el-form"),i=a("el-table-column"),z=a("router-link"),V=a("el-row"),S=a("el-progress"),j=a("el-table"),F=a("el-pagination"),I=K("loading");return c(),u(Q,null,[e(ee),s("div",oe,[e(V,{gutter:12},{default:l(()=>[e(h,{span:4},{default:l(()=>[e(le)]),_:1}),e(h,{span:20},{default:l(()=>[s("div",ae,[s("div",se,[e(E,{separator:"/"},{default:l(()=>[e(x,null,{default:l(()=>[ne]),_:1}),e(x,null,{default:l(()=>[ie]),_:1})]),_:1})])]),s("div",re,[s("div",de,[e(P,{inline:!0},{default:l(()=>[e(v,{label:"\u6D3B\u52A8\u72B6\u6001"},{default:l(()=>[e(H,{modelValue:r(d).status,"onUpdate:modelValue":o[0]||(o[0]=t=>r(d).status=t),onChange:C,placeholder:"\u4E0D\u9650\u5236",clearable:""},{default:l(()=>[e(b,{label:"\u5373\u5C06\u5F00\u59CB",value:"waiting"}),e(b,{label:"\u8FDB\u884C\u4E2D",value:"going"}),e(b,{label:"\u5DF2\u5931\u6548",value:"invalid"}),e(b,{label:"\u5DF2\u7ED3\u675F",value:"ended"})]),_:1},8,["modelValue"])]),_:1}),e(v,{label:"\u5173\u952E\u8BCD"},{default:l(()=>[e(N,{modelValue:r(d).keyword,"onUpdate:modelValue":o[1]||(o[1]=t=>r(d).keyword=t),clearable:""},null,8,["modelValue"])]),_:1}),s("div",_e,[e(v,{label:"\u6D3B\u52A8\u65F6\u95F4"},{default:l(()=>[e(L,{modelValue:r(d).daterange,"onUpdate:modelValue":o[2]||(o[2]=t=>r(d).daterange=t),type:"datetimerange","range-separator":"-","start-placeholder":"\u5F00\u59CB","end-placeholder":"\u7ED3\u675F",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",onChange:M},null,8,["modelValue"])]),_:1}),e(v,null,{default:l(()=>[e(w,{onClick:C,type:"primary",class:"f-13"},{default:l(()=>[ce]),_:1})]),_:1})])]),_:1})])]),R((c(),u("div",ue,[s("div",pe,[e(w,{type:"primary",onClick:o[3]||(o[3]=t=>r(D)("/seller/limitbuy/build"))},{default:l(()=>[me]),_:1})]),e(j,{data:f.value,border:!1,stripe:!1,"header-cell-style":{background:"#f3f8fe"}},{default:l(()=>[e(i,{type:"selection"}),e(i,{width:"280",label:"\u5546\u54C1\u4FE1\u606F"},{default:l(t=>[e(V,null,{default:l(()=>[e(h,{span:7},{default:l(()=>[e(z,{to:"/goods/detail/"+t.row.goods_id,class:"rlink"},{default:l(()=>[s("img",{src:t.row.goods_image,width:"50",height:"50"},null,8,ge)]),_:2},1032,["to"])]),_:2},1024),e(h,{span:17,class:"l-h17"},{default:l(()=>[e(z,{to:"/goods/detail/"+t.row.goods_id,class:"rlink line-clamp-2"},{default:l(()=>[m(p(t.row.goods_name),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:1}),e(i,{label:"\u539F\u4EF7",width:"100"},{default:l(t=>[s("span",null,p(r(Y)(t.row.price)),1)]),_:1}),e(i,{label:"\u4FC3\u9500\u4EF7",width:"100"},{default:l(t=>[s("strong",null,p(r(Y)(t.row.promotion.price)),1)]),_:1}),e(i,{prop:"name",label:"\u6D3B\u52A8\u6807\u9898",width:"100"},{default:l(t=>[s("span",null,p(t.row.promotion.name),1)]),_:1}),e(i,{label:"\u62A2\u8D2D\u8FDB\u5EA6",width:"130"},{default:l(t=>[e(S,{"show-text":!1,"text-inside":!0,"stroke-width":"8",percentage:t.row.promotion.progress*100},null,8,["percentage"]),s("span",fe,p(t.row.promotion.sales)+"/"+p(t.row.promotion.sales+t.row.promotion.stocks),1)]),_:1}),e(i,{label:"\u72B6\u6001",width:"100"},{default:l(t=>[s("p",he,[t.row.status=="ended"?(c(),u("text",be,"\u5DF2\u7ED3\u675F")):t.row.status=="price_invalid"?(c(),u("text",ve,"\u4EF7\u683C\u4E0D\u5408\u7406")):t.row.status=="invalid"?(c(),u("text",we,"\u5DF2\u5931\u6548")):t.row.status=="going"?(c(),u("text",ye,"\u8FDB\u884C\u4E2D")):(c(),u("text",ke,"\u5373\u5C06\u5F00\u59CB"))])]),_:1}),e(i,{label:"\u5F00\u59CB\u65F6\u95F4",width:"100"},{default:l(t=>[s("p",Ce,p(t.row.start_time),1)]),_:1}),e(i,{label:"\u7ED3\u675F\u65F6\u95F4",width:"100"},{default:l(t=>[s("p",xe,p(t.row.end_time),1)]),_:1}),e(i,{fixed:"right",label:"\u64CD\u4F5C",width:"130",align:"center"},{default:l(t=>[e(w,{onClick:T=>r(D)("/seller/limitbuy/build/"+t.row.id),type:"primary",size:"small",class:"mr10",plain:""},{default:l(()=>[ze]),_:2},1032,["onClick"]),e(w,{onClick:T=>B(t.$index),type:"warning",size:"small",plain:""},{default:l(()=>[Ve]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),_.value.total>0?(c(),u("div",De,[e(F,{currentPage:_.value.page,"onUpdate:currentPage":o[4]||(o[4]=t=>_.value.page=t),"page-size":_.value.page_size,"onUpdate:page-size":o[5]||(o[5]=t=>_.value.page_size=t),"page-sizes":[10,50,100,200],background:!1,layout:"total, sizes, prev, pager, next",total:_.value.total,onSizeChange:U,onCurrentChange:$,"hide-on-single-page":!1,class:"center"},null,8,["currentPage","page-size","total"])])):W("",!0)])),[[I,k.value]])]),_:1})]),_:1})]),e(te)],64)}}};var Pe=q(Ye,[["__scopeId","data-v-3c19743c"]]);export{Pe as default};
