<div class="goodslist" id="goodslist-{$widget_data.uniqueid}">
  <div class="wraper {if !$widget_data.showfull}w{/if}">
    <!--{if $widget_data.title || $widget_data.moreurl}-->
    <div class="title uni-flex uni-row width-between pt10 pb10">
      <p class="f-18 bold width-surplus">{$widget_data.title}</p>
      <span class="more pl10 pr5 pt5 pb5 f-gray bgf">
        <label>更多</label>
        <i class="layui-icon layui-icon-right layui-font-12"></i>
      </span>
    </div>
    <!--{/if}-->
    <div class="content uni-flex uni-row flex-wrap">

      <!--{if $widget_data.images}-->
      <div class="item scroller relative mr20 mb20">
        <ul class="bd">
          <!--{foreach from=$widget_data.images item=item}-->
          <li><a href='javascript:;'><img src="{$item.url|url_format}" class="w-full block" /></a></li>
          <!--{/foreach}-->
        </ul>
        <ul class="hd"></ul>
      </div>
      <!--{/if}-->

      <!--{foreach from=$widget_data.list item=item}-->
      <div class="bgf center item mr20 mb20 pd15">
        <p class="pic rlink"><img src="{$item.default_image|default:Yii::$app->params['default_goods_image']|url_format}" class="w-full block" /></p>
        <p class="desc line-clamp-2 mt10 rlink">{$item.goods_name}</p>
        <p class="price mt10 line-clamp-1 f-16">
          <span class="f-red">{$item.price|price_format}</span>
          <del class="f-gray ml10">{$item.mkprice|default:$item.price|price_format}</del>
        </p>
        <p class="mt10 f-13 f-gray">{$item.sales|default:0}人已付款</p>
      </div>
      <!--{/foreach}-->
    </div>
  </div>
</div>
<style>
  .goodslist .item {
    width: calc(20% - 46px);
    border-radius: 4px;
  }

  .goodslist .item.scroller {
    width: calc(40% - 12px);
    border-radius: 0;
  }

  .goodslist .scroller img {
    min-height: 237.6px;
  }

  .goodslist .scroller .hd {
    width: 100%;
    text-align: center;
    position: absolute;
    bottom: 10px;
    z-index: 99;
  }

  .goodslist .scroller .hd li {
    display: inline-block;
    margin: 0 2px;
    width: 40px;
    height: 2px;
    border-radius: 6px;
    background: #fff;
    overflow: hidden;
    color: #fff;
    font-size: 0;
  }

  .goodslist .scroller .hd li.active,
  .goodslist .scroller .hd li:hover {
    background: #dddddd;
    color: #dddddd;
  }

  .goodslist .title .more {
    border: 1px solid #eee;
  }
</style>
<script>
  $(function () {

    /* {if $widget_data.images} */
    $('#goodslist-{$widget_data.uniqueid} .item:nth-child(5n-1)').css('margin-right', 0);
    TouchSlide({
      slideCell: "#goodslist-{$widget_data.uniqueid}",
      titCell: ".hd",
      mainCell: ".bd",
      effect: "leftLoop",
      autoPlay: true,
      autoPage: true,
      titOnClassName: "active",
      delayTime: 1000,
      interTime: 5000
    });
    /* {else} */
    $('#goodslist-{$widget_data.uniqueid} .item:nth-child(5n)').css('margin-right', 0);
    /* {/if} */

    $('#goodslist-{$widget_data.uniqueid}').css('background', '{$widget_data.bgcolor|default:""}');
    $('#goodslist-{$widget_data.uniqueid}').css('padding', '{$widget_data.space|default:0}px 0');

  });
</script>