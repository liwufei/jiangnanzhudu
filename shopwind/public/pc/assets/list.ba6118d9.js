import{u as U,r as m,d as j,e as s,f as F,o as g,c as z,a as e,g as d,i as a,F as L,j as r,t as O,k as i,n as y,h as w,l as x,w as T,I as J,E as R}from"./index.193ff21d.js";import{b as q,c as A,e as G}from"./delivery.b69a1721.js";import{m as H}from"./seller.b9776ff6.js";import{_ as K}from"./user.4d579c29.js";import{m as Q}from"./seller.c6d1e739.js";import"./blocks.a7684095.js";import"./weixin.864acb91.js";import"./chat.b31cc7ff.js";const W={class:"main w pt10"},X={class:"round-edge pd10 bgf"},Y={class:"pd10"},Z=r("\u7269\u6D41"),ee={class:"round-edge pl20 pr20 pt20 pb20 bgf mt20"},te={class:"mb20"},ae=r("\u65B0\u589E\u6A21\u677F "),le=r("\u95E8\u5E97\u914D\u7F6E"),oe=r("\u7F16\u8F91 "),se=r("\u5220\u9664 "),ne={key:0,class:"mt20 mb20"},ve={setup(ie){const c=U(),h=m(!1),u=m([]),n=m({}),C=m({});j(()=>{C.value=JSON.parse(localStorage.getItem("visitor"))||{},v()});const B=l=>{v({page_size:l})},$=l=>{v({page:l,page_size:n.value.page_size})},N=(l,t)=>{l.enabled=t,A(l,f=>{})},S=l=>{J.confirm("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u8FD0\u8D39\u6A21\u677F\u5417\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",type:"warning"}).then(()=>{G({id:u.value[l].id},()=>{R.success("\u5220\u9664\u6210\u529F\uFF01"),u.value.splice(l,1)})}).catch(()=>{})};function v(l){q(Object.assign({store_id:C.value.userid,type:c.params.type},l||{}),t=>{u.value=t.list||[],n.value=t.pagination},h)}return(l,t)=>{const f=s("el-col"),k=s("el-breadcrumb-item"),D=s("el-breadcrumb"),_=s("el-button"),p=s("el-table-column"),E=s("el-switch"),V=s("el-table"),I=s("el-pagination"),M=s("el-row"),P=F("loading");return g(),z(L,null,[e(H),d("div",W,[e(M,{gutter:12},{default:a(()=>[e(f,{span:4},{default:a(()=>[e(Q)]),_:1}),e(f,{span:20},{default:a(()=>[d("div",X,[d("div",Y,[e(D,{separator:"/"},{default:a(()=>[e(k,null,{default:a(()=>[Z]),_:1}),e(k,null,{default:a(()=>[r(O(i(c).params.type=="express"?"\u5FEB\u9012\u53D1\u8D27":"\u540C\u57CE\u914D\u9001"),1)]),_:1})]),_:1})])]),d("div",ee,[d("div",te,[e(_,{type:"primary",onClick:t[0]||(t[0]=o=>i(y)("/seller/delivery/"+i(c).params.type+"/build"))},{default:a(()=>[ae]),_:1}),i(c).params.type=="locality"?(g(),w(_,{key:0,onClick:t[1]||(t[1]=o=>i(y)("/seller/delivery/locality/location"))},{default:a(()=>[le]),_:1})):x("",!0)]),T((g(),w(V,{data:u.value,border:!1,stripe:!1,size:"large","header-cell-style":{background:"#f3f8fe"}},{default:a(()=>[e(p,{prop:"name",label:"\u540D\u79F0"}),e(p,{prop:"label",label:"\u7C7B\u578B"}),e(p,{prop:"created",label:"\u521B\u5EFA\u65F6\u95F4"}),e(p,{prop:"enabled",label:"\u662F\u5426\u9ED8\u8BA4"},{default:a(o=>[e(E,{onChange:b=>{N(o.row,b)},value:parseInt(o.row.enabled),"active-value":1,"inactive-value":0},null,8,["onChange","value"])]),_:1}),e(p,{fixed:"right",label:"\u64CD\u4F5C",width:"140",align:"center"},{default:a(o=>[e(_,{type:"primary",size:"small",onClick:b=>i(y)("/seller/delivery/"+i(c).params.type+"/build/"+o.row.id),plain:""},{default:a(()=>[oe]),_:2},1032,["onClick"]),e(_,{type:"warning",size:"small",onClick:b=>S(o.$index),plain:""},{default:a(()=>[se]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[P,h.value]]),n.value.total>0?(g(),z("div",ne,[e(I,{currentPage:n.value.page,"onUpdate:currentPage":t[2]||(t[2]=o=>n.value.page=o),"page-size":n.value.page_size,"onUpdate:page-size":t[3]||(t[3]=o=>n.value.page_size=o),"page-sizes":[10,50,100,200],background:!1,layout:"total, sizes, prev, pager, next",total:n.value.total,onSizeChange:B,onCurrentChange:$,"hide-on-single-page":!1,class:"center"},null,8,["currentPage","page-size","total"])])):x("",!0)])]),_:1})]),_:1})]),e(K)],64)}}};export{ve as default};
