(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-deposit-setting-pay"],{"1c8e":function(e,t,n){"use strict";var s=n("7356"),i=n.n(s);i.a},4651:function(e,t,n){"use strict";n.r(t);var s=n("bcbf"),i=n.n(s);for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);t["default"]=i.a},"696e":function(e,t,n){"use strict";n.r(t);var s=n("f992"),i=n("4651");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("1c8e");var o=n("828b"),u=Object(o["a"])(i["default"],s["b"],s["c"],!1,null,"d8119420",null,!1,s["a"],void 0);t["default"]=u.exports},7356:function(e,t,n){var s=n("a320");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=n("967d").default;i("1a60de8c",s,!0,{sourceMap:!1,shadowMode:!1})},"9d48":function(e,t,n){"use strict";var s=n("f5bd").default,i=s(n("0ed1")),a=s(n("ac89"));e.exports={user:
/**
 * @link https://www.shopwind.net/
 * @copyright Copyright (c) 2018 ShopWind Inc. All Rights Reserved.
 *
 * This is not free software. Do not use it for commercial purposes. 
 * If you need commercial operation, please contact us to purchase a license.
 * @license https://www.shopwind.net/license/
 *
 * @Id pay.js 2019.10.22 $
 * @author winder
 */
function(e){i.default.request("user/read",null,(function(t){0==t.code&&(e.user=t.data,a.default.isEmpty(e.user.phone_mob)&&uni.showModal({title:"提示",content:"请先绑定手机",success:function(e){e.confirm?uni.navigateTo({url:"/pages/user/phone"}):uni.navigateBack()}}))}))},deposit:function(e){i.default.request("deposit/read",null,(function(t){0==t.code&&(e.deposit=t.data)}))},submit:function(e){i.default.request("deposit/update",{password:e.password,confirmPassword:e.confirmPassword,verifycode:e.verifycode,pay_status:e.balancepay?1:0,verifycodekey:uni.getStorageSync("smsverifycodekey")},(function(e){0==e.code?uni.showToast({title:"修改成功",success:function(){setTimeout((function(){uni.navigateBack()}),2e3)}}):uni.showToast({title:e.message,icon:"none"})}))},sendcode:function(e,t,n){i.default.request("sms/send",{phone_mob:e,purpose:"verifycode"},(function(e){0==e.code?(uni.setStorageSync("smsverifycodekey",e.data.codekey),uni.showToast({title:e.message,success:function(){a.default.countDown(t,n)}})):uni.showToast({title:e.message,icon:"none"})}),!1)}}},a320:function(e,t,n){var s=n("c86c");t=s(!1),t.push([e.i,".switch[data-v-d8119420]{-webkit-transform:scale(.9);transform:scale(.9)}",""]),e.exports=t},bcbf:function(e,t,n){"use strict";n("6a54");var s=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n("ac89")),a=s(n("9d48")),o={data:function(){return{user:{},deposit:{},password:"",confirmPassword:"",verifycode:"",seconds:0,balancepay:!0}},methods:{sendcode:function(){var e=this;a.default.sendcode(this.user.phone_mob,(function(t){e.seconds=t}))},change:function(e){this.balancepay=e.detail.value},submit:function(){a.default.submit(this)}},onLoad:function(e){i.default.verifyLogin(!0,this.$mp.page.route)&&(a.default.user(this),a.default.deposit(this))}};t.default=o},f992:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"uni-flex uni-row pd10 f-red"},[n("v-uni-text",[e._v("绑定的手机号为：")]),e.user.phone_mob?n("v-uni-text",[e._v(e._s(e.user.phone_mob))]):n("v-uni-navigator",{attrs:{url:"/pages/my/setting/phone","hover-class":"none"}},[e._v("请先绑定手机号")])],1),n("v-uni-view",{staticClass:"round-edge bgf ml10 mr10"},[n("v-uni-view",{staticClass:"uni-flex uni-column"},[n("v-uni-view",{staticClass:"uni-flex uni-row ml10 mr10 pt10 pb10 flex-middle"},[n("v-uni-text",{staticClass:"f-15 mr10 pt5 pb5 pr10"},[e._v("支付密码")]),n("v-uni-input",{staticClass:"f-15 pt5 pb5",attrs:{password:"true",placeholder:"请输入6位数字密码",maxlength:"6",type:"number"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-uni-view",{staticClass:"uni-flex uni-row ml10 mr10 pt10 pb10 bt flex-middle"},[n("v-uni-text",{staticClass:"f-15 mr10 pt5 pb5 pr10"},[e._v("确认密码")]),n("v-uni-input",{staticClass:"f-15 pt5 pb5",attrs:{password:"true",placeholder:"再次确认支付密码",maxlength:"6",type:"number"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1),n("v-uni-view",{staticClass:"uni-flex uni-row ml10 mr10 pt10 pb10 bt flex-middle"},[n("v-uni-view",{staticClass:"uni-flex uni-row width-surplus flex-middle mr10"},[n("v-uni-view",{staticClass:"f-15 mr10 pt5 pb5 pr10"},[e._v("验"),n("v-uni-text",{staticStyle:{padding:"0 16rpx"}},[e._v("证")]),e._v("码")],1),n("v-uni-input",{staticClass:"f-15 pt5 pb5",attrs:{placeholder:"输入短信验证码",maxlength:"6",type:"number"},model:{value:e.verifycode,callback:function(t){e.verifycode=t},expression:"verifycode"}})],1),e.seconds<=0?n("v-uni-text",{staticClass:"f-red pt5 pb5 mr5",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendcode.apply(void 0,arguments)}}},[e._v("获取验证码")]):n("v-uni-text",{staticClass:"f-gray pt5 pb5 mr5"},[e._v(e._s(e.seconds)+"秒后重发")])],1)],1),n("v-uni-view",{staticClass:"uni-flex uni-row width-between pd10 bt"},[n("v-uni-text",[e._v("开启余额支付")]),n("v-uni-switch",{staticClass:"switch",attrs:{checked:1==e.deposit.pay_status,color:"#F0AD4E"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.change.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"f-white uni-center f-15 ml10 mr10 pt10"},[n("v-uni-view",{staticClass:"mybutton mt10 uni-bold f-15",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("保存")])],1)],1)},i=[]}}]);